<Window x:Class="ExtractorUI.MainWindowView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ExtractorUI"
        xmlns:framework="clr-namespace:MvvmFramework;assembly=MvvmFramework"
        xmlns:model="clr-namespace:ExtractorUI;assembly=ExtractorViewModels"
        xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
        framework:AutoViewModelLocator.AutoAttachViewModel="True"
        mc:Ignorable="d"
        Title="MainWindowView" Height="450" Width="800"
        d:DataContext="{Binding Source={d:DesignInstance model:MainWindowViewModel,IsDesignTimeCreatable=True},
                Converter={x:Static local:DesignTimeViewModelLocator.Instance}}">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary
                    Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Button.xaml" />
                <ResourceDictionary
                    Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Shadows.xaml" />
                <ResourceDictionary
                    Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.ToggleButton.xaml" />
                 </ResourceDictionary.MergedDictionaries>
                 
            <local:RunTimeViewConversor  x:Key="conversor" />

        </ResourceDictionary>
        
    </Window.Resources>
    <md:DialogHost
        Identifier="RootDialog"
        DialogTheme="Inherit"
       >

        <md:DrawerHost
            IsLeftDrawerOpen="{Binding ElementName=MenuToggleButton, Path=IsChecked}">
            <md:DrawerHost.LeftDrawerContent>
                <DockPanel
                    MinWidth="220">
                    <ToggleButton
                        Style="{StaticResource MaterialDesignHamburgerToggleButton}"
                        DockPanel.Dock="Top"
                        HorizontalAlignment="Right"
                        Margin="16"
                        IsChecked="{Binding ElementName=MenuToggleButton, Path=IsChecked, Mode=TwoWay}" />

                    <TextBox
                        x:Name="SearchBox"
                        Text="{Binding TextoPesquisado, UpdateSourceTrigger=PropertyChanged}"
                        DockPanel.Dock="Top"
                        Margin="16, 4"
                        Width="200"
                        md:HintAssist.Hint="Search"
                        md:HintAssist.IsFloating="True"
                        md:TextFieldAssist.HasClearButton="True"
                        md:TextFieldAssist.HasOutlinedTextField="True"
                        md:TextFieldAssist.DecorationVisibility="Collapsed"
                        md:TextFieldAssist.TextFieldCornerRadius="4" />

                    <ListBox
                        x:Name="DemoItemsListBox"
                        Margin="0 16 0 16"
                        SelectedIndex="{Binding SelectedIndex}"
                        SelectedItem="{Binding SelectedMenu, UpdateSourceTrigger=PropertyChanged}"
                        ItemsSource="{Binding Menus}"
        
                        AutomationProperties.Name="DemoPagesListBox">
                        <ListBox.Resources>
                            <Style
                                TargetType="ScrollBar"
                                BasedOn="{StaticResource MaterialDesignScrollBarMinimal}" />
                        </ListBox.Resources>

                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <TextBlock
                                    Text="{Binding Path=Name}"
                                    Margin="32 0 32 0"
                                    AutomationProperties.AutomationId="DemoItemPage" />
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </DockPanel>
            </md:DrawerHost.LeftDrawerContent>

            <DockPanel>
                <md:ColorZone
                    Padding="16"
                    md:ShadowAssist.ShadowDepth="Depth2"
                    Mode="PrimaryMid"
                    DockPanel.Dock="Top">
                    <DockPanel>
                        <StackPanel
                            Orientation="Horizontal">
                            <ToggleButton
                                x:Name="MenuToggleButton"
                                Style="{StaticResource MaterialDesignHamburgerToggleButton}"
                                IsChecked="False"
                
                                AutomationProperties.Name="HamburgerToggleButton" />

                        </StackPanel>

                        <md:PopupBox
                            DockPanel.Dock="Right"
                            PlacementMode="BottomAndAlignRightEdges"
                            StaysOpen="True"
                            HorizontalAlignment="Right"
                            >
                            <StackPanel>
                                <StackPanel
                                    Orientation="Horizontal"
                                    HorizontalAlignment="Center"
                                    Margin="10">
                                    <TextBlock
                                        Text="Light"
                                        Margin="0 0 10 0" />
                                    <ToggleButton
                                        x:Name="DarkModeToggleButton" />
                                    <TextBlock
                                        Text="Dark"
                                        Margin="10 0 0 0" />
                                </StackPanel>

                                <Separator />

                                <Button  Content="Hello World" />


                                <Button  Content="Nice Popup" />


                                <Button
                                    Content="Can't Touch This"
                                    IsEnabled="False" />

                                <Separator />

                                <Button
                                    Content="Goodbye"
                                    />
                            </StackPanel>
                        </md:PopupBox>

                        
                    </DockPanel>
                </md:ColorZone>

                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition
                            Height="Auto" />
                        <RowDefinition
                            Height="*" />
                    </Grid.RowDefinitions>


                    <ScrollViewer
                        x:Name="MainScrollViewer"
                        Grid.Row="1"
                        md:ScrollViewerAssist.IsAutoHideEnabled="True">

                        <ContentControl
                         local:RunTimeViewLocator.AutoLocateView="{ Binding SelectedModel}"
                           />
                    </ScrollViewer>


                </Grid>
            </DockPanel>
        </md:DrawerHost>
    </md:DialogHost>





</Window>
